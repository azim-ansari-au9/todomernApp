(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{351:function(e,t,n){},352:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),s=n.n(c),i=n(35),o=n(23),u=n(10),d=n(5),l=n.n(d),j=n(11),b=n(25),p=n(8),O=n(12),f=n(414),h="SET_ALERT",x="REMOVE_ALERT",m="REGISTER_SUCCESS",v="REGISTER_FAIL",y="USER_LOADED",g="AUTH_ERROR",k="LOGIN_SUCCESS",w="LOGIN_FAIL",C="LOGOUT",S="CLEAR_BOARD",N="GET_BOARDS",I="GET_BOARD",T="ADD_BOARD",E="BOARD_ERROR",_="RENAME_BOARD",A="GET_LIST",D="ADD_LIST",L="RENAME_LIST",R="ARCHIVE_LIST",M="GET_CARD",B="ADD_CARD",W="EDIT_CARD",P="MOVE_CARD",F="ARCHIVE_CARD",q="DELETE_CARD",H="GET_ACTIVITY",J="ADD_MEMBER",G="MOVE_LIST",V="ADD_CARD_MEMBER",K="ADD_CHECKLIST_ITEM",U="EDIT_CHECKLIST_ITEM",z="COMPLETE_CHECKLIST_ITEM",Y="DELETE_CHECKLIST_ITEM",X=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(a){var r=Object(f.a)();a({type:h,payload:{msg:e,alertType:t,id:r}}),setTimeout((function(){return a({type:x,payload:r})}),n)}},Q=n(17),Z=n.n(Q),$=function(e){e?Z.a.defaults.headers.common["x-auth-token"]=e:delete Z.a.defaults.headers.common["x-auth-token"]},ee=function(){return function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&$(localStorage.token),e.prev=1,e.next=4,Z.a.get("/api/auth");case 4:n=e.sent,t({type:y,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:g});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},te=function(e){var t=e.name,n=e.email,a=e.password;return function(){var e=Object(j.a)(l.a.mark((function e(r){var c,s,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{"Content-Type":"application/json"}},s=JSON.stringify({name:t,email:n,password:a}),e.prev=2,e.next=5,Z.a.post("/api/users",s,c);case 5:i=e.sent,r({type:m,payload:i.data}),r(ee()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),(o=e.t0.response.data.errors)&&o.forEach((function(e){return r(X(e.msg,"error"))})),r({type:v});case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}()},ne=function(e,t){return function(){var n=Object(j.a)(l.a.mark((function n(a){var r,c,s,i;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={headers:{"Content-Type":"application/json"}},c=JSON.stringify({email:e,password:t}),n.prev=2,n.next=5,Z.a.post("/api/auth",c,r);case 5:s=n.sent,a({type:k,payload:s.data}),a(ee()),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(2),(i=n.t0.response.data.errors)&&i.forEach((function(e){return a(X(e.msg,"error"))})),a({type:w});case 15:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(e){return n.apply(this,arguments)}}()},ae=n(396),re=n(417),ce=n(397),se=n(389),ie=n(70),oe=n(387),ue=n(385),de=Object(ue.a)((function(e){return{container:{display:"flex",flexDirection:"column",alignItems:"center",height:"100vh",maxWidth:"100vw",padding:"20px",background:"linear-gradient(135deg, #0079bf, #5067c5)"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",background:"white",maxWidth:"500px"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),le=n(1),je=function(){var e=de(),t=Object(a.useState)({name:"",email:"",password:"",cPassword:""}),n=Object(O.a)(t,2),r=n[0],c=n[1],s=Object(u.d)((function(e){return e.auth.isAuthenticated})),i=Object(u.c)();Object(a.useEffect)((function(){document.title="TODO | Sign Up"}),[]);var d=r.name,f=r.email,h=r.password,x=r.cPassword,m=function(e){return c(Object(p.a)(Object(p.a)({},r),{},Object(b.a)({},e.target.name,e.target.value)))},v=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),i(h!==x?X("Passwords do not match","error"):te({name:d,email:f,password:h}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s?Object(le.jsx)(o.a,{to:"/dashboard"}):Object(le.jsx)(oe.a,{component:"main",maxWidth:"xs",children:Object(le.jsxs)("div",{children:[Object(le.jsx)(ie.a,{component:"h1",variant:"h4",children:"TODO"}),Object(le.jsx)(ie.a,{component:"h1",variant:"h5",children:"Register"}),Object(le.jsxs)("form",{className:e.form,onSubmit:function(e){return v(e)},children:[Object(le.jsxs)(se.a,{container:!0,spacing:2,children:[Object(le.jsx)(se.a,{item:!0,xs:12,children:Object(le.jsx)(re.a,{autoComplete:"name",name:"name",variant:"outlined",required:!0,placeholder:"Enter your Name",autoFocus:!0,value:d,onChange:function(e){return m(e)}})}),Object(le.jsx)(se.a,{item:!0,xs:12,children:Object(le.jsx)(re.a,{variant:"outlined",required:!0,fullWidth:!0,placeholder:"Enter your email here",name:"email",autoComplete:"email",value:f,onChange:function(e){return m(e)}})}),Object(le.jsx)(se.a,{item:!0,xs:12,children:Object(le.jsx)(re.a,{variant:"outlined",required:!0,fullWidth:!0,placeholder:"Enter your password here",name:"password",type:"password",value:h,onChange:function(e){return m(e)}})}),Object(le.jsx)(se.a,{item:!0,xs:12,children:Object(le.jsx)(re.a,{variant:"outlined",required:!0,fullWidth:!0,name:"cPassword",placeholder:"reEnter your password here",type:"password",value:x,onChange:function(e){return m(e)}})})]}),Object(le.jsx)(ae.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Register"}),Object(le.jsx)(se.a,{container:!0,justify:"flex-end",children:Object(le.jsx)(se.a,{item:!0,children:Object(le.jsx)(ce.a,{href:"/login",variant:"body2",children:"Already registered an account? Sign in"})})})]})]})})},be=function(){var e=Object(u.d)((function(e){return e.auth.isAuthenticated}));return Object(a.useEffect)((function(){document.title="TODO"}),[]),e?Object(le.jsx)(o.a,{to:"/dashboard"}):Object(le.jsx)("section",{className:"landing",children:Object(le.jsx)(je,{})})},pe=n(398),Oe=function(){var e=de(),t=Object(a.useState)({email:"",password:""}),n=Object(O.a)(t,2),r=n[0],c=n[1],s=Object(u.d)((function(e){return e.auth.isAuthenticated})),i=Object(u.c)(),d=r.email,f=r.password;Object(a.useEffect)((function(){document.title="TODO | Sign In"}),[]);var h=function(e){return c(Object(p.a)(Object(p.a)({},r),{},Object(b.a)({},e.target.name,e.target.value)))},x=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),i(ne(d,f));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s?Object(le.jsx)(o.a,{to:"/dashboard"}):Object(le.jsxs)(oe.a,{component:"main",maxWidth:"xs",children:[Object(le.jsx)(pe.a,{}),Object(le.jsxs)("div",{className:e.paper,children:[Object(le.jsx)(ie.a,{component:"h1",variant:"h4",children:"TODO"}),Object(le.jsx)(ie.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(le.jsxs)("form",{className:e.form,onSubmit:function(e){return x(e)},children:[Object(le.jsx)(re.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,value:d,onChange:function(e){return h(e)}}),Object(le.jsx)(re.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",autoComplete:"current-password",value:f,onChange:function(e){return h(e)}}),Object(le.jsx)(ae.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign In"}),Object(le.jsx)(se.a,{container:!0,justify:"flex-end",children:Object(le.jsx)(se.a,{item:!0,children:Object(le.jsx)(ce.a,{href:"/register",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]})]})},fe={headers:{"Content-Type":"application/json"}},he=function(e,t){return function(){var n=Object(j.a)(l.a.mark((function n(a){var r,c;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=JSON.stringify(e),n.next=4,Z.a.post("/api/boards",r,fe);case 4:c=n.sent,a({type:T,payload:c.data}),a(X("Board Created","success")),t.push("/board/".concat(c.data._id)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a({type:E,payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},xe=function(e,t){return function(){var n=Object(j.a)(l.a.mark((function n(a){var r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Z.a.patch("/api/boards/rename/".concat(e),t,fe);case 3:r=n.sent,a({type:_,payload:r.data}),a(Ne()),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),a({type:E,payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},me=function(e){return function(){var t=Object(j.a)(l.a.mark((function t(n){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=JSON.stringify(e),t.next=4,Z.a.post("/api/lists",a,fe);case 4:r=t.sent,n({type:D,payload:r.data}),n(Ne()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:E,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},ve=function(e,t){return function(){var n=Object(j.a)(l.a.mark((function n(a){var r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Z.a.patch("/api/lists/rename/".concat(e),t,fe);case 3:r=n.sent,a({type:L,payload:r.data}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),a({type:E,payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},ye=function(e,t){return function(){var n=Object(j.a)(l.a.mark((function n(a){var r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Z.a.patch("/api/lists/archive/".concat(t,"/").concat(e));case 3:r=n.sent,a({type:R,payload:r.data}),a(Ne()),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),a({type:E,payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},ge=function(e){return function(){var t=Object(j.a)(l.a.mark((function t(n){var a,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=JSON.stringify(e),t.next=4,Z.a.post("/api/cards",a,fe);case 4:r=t.sent,n({type:B,payload:r.data}),n(Ne()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:E,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},ke=function(e,t){return function(){var n=Object(j.a)(l.a.mark((function n(a){var r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Z.a.patch("/api/cards/edit/".concat(e),t,fe);case 3:r=n.sent,a({type:W,payload:r.data}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),a({type:E,payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},we=function(e,t){return function(){var n=Object(j.a)(l.a.mark((function n(a){var r,c;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=JSON.stringify(t),n.next=4,Z.a.patch("/api/cards/move/".concat(e),r,fe);case 4:c=n.sent,a({type:P,payload:c.data}),a(Ne()),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),a({type:E,payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()},Ce=function(e,t){return function(){var n=Object(j.a)(l.a.mark((function n(a){var r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Z.a.patch("/api/cards/archive/".concat(t,"/").concat(e));case 3:r=n.sent,a({type:F,payload:r.data}),a(Ne()),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),a({type:E,payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},Se=function(e,t){return function(){var n=Object(j.a)(l.a.mark((function n(a){var r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Z.a.delete("/api/cards/".concat(e,"/").concat(t));case 3:r=n.sent,a({type:q,payload:r.data}),a(Ne()),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),a({type:E,payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},Ne=function(){return function(){var e=Object(j.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=Z.a.defaults.headers.common.boardId,e.next=4,Z.a.get("/api/boards/activity/".concat(n));case 4:a=e.sent,t({type:H,payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:E,payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},Ie=function(e,t){return function(){var n=Object(j.a)(l.a.mark((function n(a){var r,c;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=JSON.stringify(t),n.next=4,Z.a.patch("/api/lists/move/".concat(e),r,fe);case 4:c=n.sent,a({type:G,payload:c.data}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),a({type:E,payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},Te=function(e){return function(){var t=Object(j.a)(l.a.mark((function t(n){var a,r,c,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.add,r=e.cardId,c=e.userId,t.next=4,Z.a.put("/api/cards/addMember/".concat(a,"/").concat(r,"/").concat(c));case 4:s=t.sent,n({type:V,payload:s.data}),n(Ne()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:E,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},Ee=function(e,t){return function(){var n=Object(j.a)(l.a.mark((function n(a){var r,c;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r=JSON.stringify(t),n.next=4,Z.a.post("/api/checklists/".concat(e),r,fe);case 4:c=n.sent,a({type:K,payload:c.data}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),a({type:E,payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},_e=function(e,t,n){return function(){var a=Object(j.a)(l.a.mark((function a(r){var c,s;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c=JSON.stringify(n),a.next=4,Z.a.patch("/api/checklists/".concat(e,"/").concat(t),c,fe);case 4:s=a.sent,r({type:U,payload:s.data}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),r({type:E,payload:{msg:a.t0.response.statusText,status:a.t0.response.status}});case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},Ae=function(e){return function(){var t=Object(j.a)(l.a.mark((function t(n){var a,r,c,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=e.cardId,r=e.complete,c=e.itemId,t.next=4,Z.a.patch("/api/checklists/".concat(a,"/").concat(r,"/").concat(c));case 4:s=t.sent,n({type:z,payload:s.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n({type:E,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},De=function(e,t){return function(){var n=Object(j.a)(l.a.mark((function n(a){var r;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Z.a.delete("/api/checklists/".concat(e,"/").concat(t));case 3:r=n.sent,a({type:Y,payload:r.data}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),a({type:E,payload:{msg:n.t0.response.statusText,status:n.t0.response.status}});case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()},Le=n(357),Re=n(22),Me=n.n(Re),Be=Object(ue.a)((function(e){var t;return{createBoardModal:{width:400},cardModal:Object(b.a)({width:800},e.breakpoints.down("sm"),{maxWidth:400}),cardTitle:{width:"100%"},button:{width:180,marginTop:10},membersTitle:{margin:"20px 0 10px"},labelTitle:{margin:"20px 0 10px"},colorPicker:{minWidth:212},noLabel:{width:100},moveCardTitle:{marginTop:20},moveCard:{display:"flex",flexDirection:"column"},moveCardSelect:{marginTop:10,marginRight:20,width:200},header:{marginTop:10,marginBottom:10},checklistItem:{display:"flex",width:"100%",justifyContent:"space-between",margin:"2px 0 5px"},checklistFormLabel:{width:"100%"},itemButtons:Object(b.a)({display:"flex",margin:"auto"},e.breakpoints.down("sm"),{flexDirection:"column"}),itemButton:{height:40},checklistBottom:{marginTop:5},paper:(t={display:"flex",flexDirection:"column",position:"absolute",left:"50%",transform:"translateX(-50%)"},Object(b.a)(t,e.breakpoints.up("md"),{top:"5%",maxHeight:"90vh"}),Object(b.a)(t,e.breakpoints.down("sm"),{height:"100%"}),Object(b.a)(t,"overflowY","auto"),Object(b.a)(t,"backgroundColor",e.palette.background.paper),Object(b.a)(t,"border","2px solid #000"),Object(b.a)(t,"boxShadow",e.shadows[5]),Object(b.a)(t,"padding",e.spacing(2,4,3)),t),modalTop:{display:"flex"},modalSection:{display:"flex",justifyContent:"space-between",flexWrap:"wrap",height:"auto"},modalBottomRight:{display:"flex",flexDirection:"column",justifyContent:"flex-end",marginTop:20},archiveButton:{marginBottom:5}}})),We=Object(o.g)((function(e){var t=e.history,n=Be(),r=Object(a.useState)(""),c=Object(O.a)(r,2),s=c[0],i=c[1],o=Object(a.useState)(!1),d=Object(O.a)(o,2),b=d[0],p=d[1],f=Object(u.c)(),h=function(){var e=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),f(he({title:s},t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=Object(le.jsxs)("div",{className:"".concat(n.paper," ").concat(n.createBoardModal),children:[Object(le.jsxs)("div",{className:n.modalTop,children:[Object(le.jsx)("h1",{children:"Create new board"}),Object(le.jsx)(ae.a,{onClick:function(){return p(!1)},children:Object(le.jsx)(Me.a,{})})]}),Object(le.jsxs)("form",{onSubmit:function(e){return h(e)},children:[Object(le.jsx)(re.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,placeholder:"add title",autoFocus:!0,value:s,onChange:function(e){return i(e.target.value)}}),Object(le.jsx)(ae.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",children:"  create Board "})]})]});return Object(le.jsxs)("div",{children:[Object(le.jsx)("button",{className:"board-card create-board-card",onClick:function(){return p(!0)},children:"create new board"}),Object(le.jsx)(Le.a,{open:b,onClose:function(){return p(!1)},children:x})]})})),Pe=function(){var e=Object(u.d)((function(e){return e.auth.isAuthenticated})),t=Object(u.c)();return e?Object(le.jsxs)("nav",{className:"navbar",style:{height:"120px",backgroundColor:"black"},children:[Object(le.jsx)(i.b,{to:"/dashboard",children:"Dashboard"}),Object(le.jsx)(i.b,{to:"/",onClick:function(){return t(function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:C});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})]}):""},Fe=n(399),qe=function(){var e=Object(u.d)((function(e){return e.auth})),t=(e.user,e.isAuthenticated),n=Object(u.d)((function(e){return e.board.boards})),r=Object(u.d)((function(e){return e.board.dashboardLoading})),c=Object(u.c)();return Object(a.useEffect)((function(){c(function(){var e=Object(j.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:S}),e.next=4,Z.a.get("/api/boards");case 4:n=e.sent,t({type:N,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:E,payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[c]),Object(a.useEffect)((function(){document.title="Your Boards | TODO"}),[]),t?Object(le.jsxs)("div",{className:"dashboard-and-navbar",children:[Object(le.jsx)(Pe,{}),Object(le.jsxs)("section",{className:"dashboard",children:[r&&Object(le.jsx)(Fe.a,{className:"dashboard-loading"}),Object(le.jsxs)("div",{className:"boards",children:[n.map((function(e){return Object(le.jsx)(i.b,{to:"/board/".concat(e._id),className:"board-card",children:e.title},e._id)})),Object(le.jsx)(We,{})]})]})]}):Object(le.jsx)(o.a,{to:"/"})},He=n(59),Je=n(412),Ge=function(e){var t=e.board,n=Object(a.useState)(!1),r=Object(O.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(t.title),o=Object(O.a)(i,2),d=o[0],b=o[1],p=Object(u.c)();Object(a.useEffect)((function(){b(t.title)}),[t.title]);var f=function(){var e=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),p(xe(t._id,{title:d})),s(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c?Object(le.jsx)("form",{className:"board-title-form",onSubmit:function(e){return f(e)},children:Object(le.jsx)(re.a,{variant:"outlined",required:!0,value:d,size:"small",onChange:function(e){return b(e.target.value)}})}):Object(le.jsx)("h2",{className:"board-title",onClick:function(){return s(!0)},children:t.title})},Ve=n(177),Ke=n.n(Ve),Ue=n(420),ze=n(395),Ye=n(403),Xe=n(127),Qe=n.n(Xe),Ze=n(354),$e=n(404),et=n(400),tt=n(126),nt=n.n(tt),at=function(){var e=Object(u.d)((function(e){return e.board.board.listObjects})),t=Object(u.c)(),n=function(){var e=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(ye(n,!1));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(le.jsx)("div",{children:Object(le.jsx)(ze.a,{children:e.filter((function(e){return e.archived})).map((function(e,t){return Object(le.jsxs)(Ze.a,{children:[Object(le.jsx)(et.a,{primary:e.title}),Object(le.jsx)(ae.a,{onClick:function(){return n(e._id)},children:"Send "})]},t)}))})})},rt=n(401),ct=n(402),st=function(){var e=Object(u.d)((function(e){return e.board.board.cardObjects})),t=Object(u.d)((function(e){return e.board.board.listObjects})),n=Object(u.c)(),a=function(){var e=Object(j.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(Se(t,a));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(Ce(t,!1));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(le.jsx)("div",{children:Object(le.jsx)(ze.a,{children:e.filter((function(e){return e.archived})).map((function(e,n){return Object(le.jsxs)(Ze.a,{className:"archived-card",children:[Object(le.jsx)(rt.a,{children:Object(le.jsx)(ct.a,{children:e.title})}),Object(le.jsxs)("div",{children:[Object(le.jsx)(ae.a,{color:"secondary",onClick:function(){return a(t.find((function(t){return t.cards.includes(e._id)}))._id,e._id)},children:"Delete Card"}),Object(le.jsx)(ae.a,{onClick:function(){return r(e._id)},children:"Send to List"})]})]},n)}))})})},it=Object(ue.a)((function(e){return{hide:{display:"none"},showMenuButton:{display:"flex",justifyContent:"space-between",width:150},drawer:{width:330,flexShrink:0},drawerPaper:{width:330},drawerHeader:{display:"flex",alignItems:"center",padding:"10px 20px",justifyContent:"space-between"},activityTitle:{textAlign:"center",padding:"20px 20px 0"},viewMoreActivityButton:{textAlign:"center",margin:"0 auto 20px"}}})),ot=function(){var e=it(),t=Object(a.useState)(!1),n=Object(O.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),i=Object(O.a)(s,2),o=i[0],d=i[1],l=Object(a.useState)(!1),j=Object(O.a)(l,2),b=j[0],p=j[1],f=Object(a.useState)(1),h=Object(O.a)(f,2),x=h[0],m=h[1],v=Object(u.d)((function(e){return e.board.board.activity})),y=function(){c(!1),m(1)};return Object(le.jsx)("div",{children:Object(le.jsxs)(Ue.a,{className:r?e.drawer:e.hide,variant:"persistent",anchor:"right",open:r,classes:{paper:e.drawerPaper},children:[o||b?o?Object(le.jsxs)("div",{children:[Object(le.jsxs)("div",{className:e.drawerHeader,children:[Object(le.jsx)(ae.a,{onClick:function(){return d(!1)},children:Object(le.jsx)(Qe.a,{})}),Object(le.jsx)("h3",{children:"Archived Lists"}),Object(le.jsx)(ae.a,{onClick:y,children:Object(le.jsx)(Me.a,{})})]}),Object(le.jsx)(Ye.a,{}),Object(le.jsx)(at,{})]}):Object(le.jsxs)("div",{children:[Object(le.jsxs)("div",{className:e.drawerHeader,children:[Object(le.jsx)(ae.a,{onClick:function(){return p(!1)},children:Object(le.jsx)(Qe.a,{})}),Object(le.jsx)("h3",{children:"Archived Cards"}),Object(le.jsx)(ae.a,{onClick:y,children:Object(le.jsx)(Me.a,{})})]}),Object(le.jsx)(Ye.a,{}),Object(le.jsx)(st,{})]}):Object(le.jsxs)("div",{children:[Object(le.jsxs)("div",{className:e.drawerHeader,children:[Object(le.jsx)("h3",{children:"Menu"}),Object(le.jsx)(ae.a,{onClick:y,children:Object(le.jsx)(Me.a,{})})]}),Object(le.jsx)(Ye.a,{}),Object(le.jsxs)(ze.a,{children:[Object(le.jsxs)(Ze.a,{button:!0,onClick:function(){return d(!0)},children:[Object(le.jsx)($e.a,{children:Object(le.jsx)(nt.a,{})}),Object(le.jsx)(et.a,{primary:"Archived Lists"})]}),Object(le.jsxs)(Ze.a,{button:!0,onClick:function(){return p(!0)},children:[Object(le.jsx)($e.a,{children:Object(le.jsx)(nt.a,{})}),Object(le.jsx)(et.a,{primary:"Archived Cards"})]})]}),Object(le.jsx)(Ye.a,{}),Object(le.jsx)("div",{className:e.activityTitle,children:Object(le.jsx)("h3",{children:"Activity"})}),Object(le.jsx)(ze.a,{children:v.slice(0,10*x).map((function(e){return Object(le.jsx)(Ze.a,{children:Object(le.jsx)(et.a,{primary:e.text,secondary:Object(le.jsx)(Ke.a,{fromNow:!0,children:e.date})})},e._id)}))}),Object(le.jsx)("div",{className:e.viewMoreActivityButton,children:Object(le.jsx)(ae.a,{disabled:10*x>v.length,onClick:function(){return m(x+1)},children:"View More Activity"})})]}),Object(le.jsx)(Ye.a,{})]})})},ut=function(e){var t=e.list,n=Object(a.useState)(!1),r=Object(O.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(t.title),o=Object(O.a)(i,2),d=o[0],b=o[1],p=Object(u.c)();Object(a.useEffect)((function(){b(t.title)}),[t.title]);var f=function(){var e=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),p(ve(t._id,{title:d})),s(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c?Object(le.jsx)("form",{onSubmit:function(e){return f(e)},children:Object(le.jsx)(re.a,{required:!0,value:d,onChange:function(e){return b(e.target.value)}})}):Object(le.jsx)("h3",{className:"list-title",onClick:function(){return s(!0)},children:t.title})},dt=n(189),lt=n(408),jt=n(128),bt=n.n(jt),pt=n(405),Ot=n(407),ft=n(406),ht=n(419),xt=n(392),mt=n(415),vt=Object(ue.a)((function(e){return{dialog:{padding:20},moveListTop:{display:"flex"},moveListBottom:{display:"flex",flexDirection:"column"},moveListButton:{marginTop:20}}})),yt=function(e){var t=e.listId,n=e.closeMenu,r=vt(),c=Object(a.useState)(!1),s=Object(O.a)(c,2),i=s[0],o=s[1],d=Object(a.useState)(0),b=Object(O.a)(d,2),p=b[0],f=b[1],h=Object(a.useState)([0]),x=Object(O.a)(h,2),m=x[0],v=x[1],y=Object(u.d)((function(e){return e.board.board.lists})),g=Object(u.d)((function(e){return e.board.board.listObjects})),k=Object(u.c)();Object(a.useEffect)((function(){var e=g.sort((function(e,t){return y.findIndex((function(t){return t===e._id}))-y.findIndex((function(e){return e===t._id}))})).map((function(e,t){return{list:e,index:t}}));v(e.filter((function(e){return!e.list.archived})).map((function(e){return e.index}))),f(e.findIndex((function(e){return e.list._id===t})))}),[y,t,g]);var w=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(Ie(t,{toIndex:p})),o(!1),n();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(le.jsxs)(a.Fragment,{children:[Object(le.jsx)("div",{onClick:function(){return o(!0)},children:"Move This List"}),Object(le.jsxs)(pt.a,{open:i,onClose:function(){return o(!1)},children:[Object(le.jsxs)("div",{className:r.moveListTop,children:[Object(le.jsx)(ft.a,{children:"Move List"}),Object(le.jsx)(ae.a,{onClick:function(){return o(!1)},children:Object(le.jsx)(Me.a,{})})]}),Object(le.jsx)(Ot.a,{className:r.moveListBottom,children:Object(le.jsxs)(xt.a,{children:[Object(le.jsx)(ht.a,{shrink:!0,children:"Position"}),Object(le.jsx)(mt.a,{value:p,required:!0,onChange:function(e){return f(e.target.value)},displayEmpty:!0,children:m.map((function(e,t){return Object(le.jsx)(lt.a,{value:e,children:t+1},e)}))}),Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",className:r.moveListButton,onClick:w,children:"Move List"})]})})]})]})},gt=function(e){var t=e.listId,n=Object(a.useState)(null),r=Object(O.a)(n,2),c=r[0],s=r[1],i=Object(u.c)(),o=function(){s(null)},d=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(ye(t,!0));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(le.jsxs)("div",{children:[Object(le.jsx)(ae.a,{onClick:function(e){s(e.currentTarget)},children:Object(le.jsx)(bt.a,{})}),Object(le.jsxs)(dt.a,{anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:o,children:[Object(le.jsx)(lt.a,{onClick:o,children:Object(le.jsx)(bt.a,{})}),Object(le.jsx)(lt.a,{onClick:function(){d(),o()},children:"Archive This List"}),Object(le.jsx)(lt.a,{children:Object(le.jsx)(yt,{listId:t,closeMenu:o})})]})]})},kt=function(e){var t=e.match(/\b\w/g)||[];return((t.shift()||"")+(t.pop()||"")).toUpperCase()},wt=n(103),Ct=n.n(wt),St=n(183),Nt=n.n(St),It=n(184),Tt=n.n(It),Et=n(421),_t=n(422),At=n(188),Dt=function(e){var t=e.cardId,n=e.setOpen,r=e.thisList,c=Be(),s=Object(a.useState)(null),i=Object(O.a)(s,2),o=i[0],d=i[1],b=Object(a.useState)(""),p=Object(O.a)(b,2),f=p[0],h=p[1],x=Object(a.useState)(0),m=Object(O.a)(x,2),v=m[0],y=m[1],g=Object(a.useState)([0]),k=Object(O.a)(g,2),w=k[0],C=k[1],S=Object(u.d)((function(e){return e.board.board.lists})),N=Object(u.d)((function(e){return e.board.board.listObjects.sort((function(e,t){return S.findIndex((function(t){return t===e._id}))-S.findIndex((function(e){return e===t._id}))})).filter((function(e){return!e.archived}))})),I=Object(u.d)((function(e){return e.board.board.cardObjects})),T=Object(u.c)();Object(a.useEffect)((function(){d(r),h(r.title)}),[r,t]),Object(a.useEffect)((function(){if(o){var e=o.cards.map((function(e,t){return{card:I.find((function(t){return t._id===e})),position:t}})).filter((function(e){return!e.card.archived})).map((function(e){return e.position}));o!==r&&(e=e.concat(o.cards.length)),o.cards.length>0?(C(e),y(r.cards.findIndex((function(e){return e===t})))):(C([0]),y(0))}}),[r,t,o,I]);var E=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T(we(t,{fromId:r._id,toId:o._id,toIndex:v})),n(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(le.jsxs)("div",{className:c.moveCard,children:[Object(le.jsx)("h3",{className:c.moveCardTitle,children:"Move this card"}),Object(le.jsxs)("div",{children:[Object(le.jsxs)(xt.a,{className:c.moveCardSelect,children:[Object(le.jsx)(ht.a,{shrink:!0,children:"List"}),Object(le.jsx)(mt.a,{value:f,required:!0,onChange:function(e){h(e.target.value),d(N.find((function(t){return t.title===e.target.value})))},displayEmpty:!0,children:N.map((function(e){return Object(le.jsx)(lt.a,{value:e.title,children:e.title},e._id)}))})]}),Object(le.jsxs)(xt.a,{className:c.moveCardSelect,children:[Object(le.jsx)(ht.a,{shrink:!0,children:"Position"}),Object(le.jsx)(mt.a,{value:v,required:!0,onChange:function(e){return y(e.target.value)},displayEmpty:!0,children:w.map((function(e,t){return Object(le.jsx)(lt.a,{value:e,children:t+1},e)}))})]})]}),Object(le.jsx)(ae.a,{className:c.button,variant:"contained",color:"primary",onClick:E,children:"Move Card"})]})},Lt=function(e){var t=e.cardId,n=e.setOpen,r=e.list,c=Object(a.useState)(!1),s=Object(O.a)(c,2),i=s[0],o=s[1],d=Object(u.c)(),b=function(){o(!1)},p=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(Se(r._id,t)),o(!1),n(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(le.jsxs)("div",{children:[Object(le.jsx)(ae.a,{variant:"contained",color:"secondary",onClick:function(){o(!0)},children:"Delete Card"}),Object(le.jsxs)(pt.a,{open:i,onClose:b,children:[Object(le.jsx)(ft.a,{children:"Delete card?"}),Object(le.jsxs)(Ot.a,{children:[Object(le.jsx)(ae.a,{onClick:p,variant:"contained",color:"secondary",autoFocus:!0,children:"Delete"}),Object(le.jsx)(ae.a,{onClick:b,children:Object(le.jsx)(Me.a,{})})]})]})]})},Rt=n(409),Mt=n(410),Bt=n(416),Wt=function(e){var t=e.card,n=Be(),a=Object(u.d)((function(e){return e.board.board.members})),r=t.members.map((function(e){return e.user})),c=Object(u.c)();return Object(le.jsxs)("div",{children:[Object(le.jsx)("h3",{className:n.membersTitle,children:"Members"}),Object(le.jsx)(xt.a,{component:"fieldset",children:Object(le.jsx)(Rt.a,{children:a.map((function(e){return Object(le.jsx)(Mt.a,{control:Object(le.jsx)(Bt.a,{checked:-1!==r.indexOf(e.user),onChange:function(){var e=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c(Te({add:n.target.checked,cardId:t._id,userId:n.target.name})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),name:e.user}),label:e.name},e.user)}))})})]})},Pt=function(e){var t=e.cardId,n=Be(),r=Object(a.useState)(!1),c=Object(O.a)(r,2),s=c[0],i=c[1],o=Object(a.useState)(""),d=Object(O.a)(o,2),b=d[0],p=d[1],f=Object(u.c)(),h=function(){var e=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),f(Ee(t,{text:b})),p("");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return s?Object(le.jsx)("div",{className:n.checklistBottom,children:Object(le.jsxs)("form",{onSubmit:function(e){return h(e)},children:[Object(le.jsx)(re.a,{variant:"filled",fullWidth:!0,multiline:!0,required:!0,label:"Add an item",autoFocus:!0,value:b,onChange:function(e){return p(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&h(e)}}),Object(le.jsxs)("div",{children:[Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",children:"Add"}),Object(le.jsx)(ae.a,{onClick:function(){i(!1),p("")},children:Object(le.jsx)(Me.a,{})})]})]})}):Object(le.jsx)("div",{className:n.checklistBottom,children:Object(le.jsx)(ae.a,{variant:"contained",onClick:function(){return i(!0)},children:"+ Add an item"})})},Ft=n(182),qt=n.n(Ft),Ht=function(e){var t=e.item,n=e.card,r=Be(),c=Object(a.useState)(t.text),s=Object(O.a)(c,2),i=s[0],o=s[1],d=Object(a.useState)(!1),b=Object(O.a)(d,2),p=b[0],f=b[1],h=Object(u.c)();Object(a.useEffect)((function(){o(t.text)}),[t.text]);var x=function(){var e=Object(j.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),h(_e(n._id,t._id,{text:i})),f(!1);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(Ae({cardId:n._id,complete:a.target.checked,itemId:t._id}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(l.a.mark((function e(a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(De(n._id,t._id));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(le.jsx)("div",{className:r.checklistItem,children:p?Object(le.jsxs)("form",{onSubmit:function(e){return x(e)},className:r.checklistFormLabel,children:[Object(le.jsx)(re.a,{variant:"filled",fullWidth:!0,multiline:!0,required:!0,autoFocus:!0,value:i,onChange:function(e){return o(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&x(e)}}),Object(le.jsxs)("div",{children:[Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",children:"Save"}),Object(le.jsx)(ae.a,{onClick:function(){f(!1),o(t.text)},children:Object(le.jsx)(Me.a,{})})]})]}):Object(le.jsxs)(a.Fragment,{children:[Object(le.jsx)(Mt.a,{control:Object(le.jsx)(Bt.a,{checked:n.checklist.find((function(e){return e._id===t._id})).complete,onChange:m,name:t._id}),label:t.text,className:r.checklistFormLabel}),Object(le.jsxs)("div",{className:r.itemButtons,children:[Object(le.jsx)(ae.a,{className:r.itemButton,onClick:function(){return f(!0)},children:Object(le.jsx)(Ct.a,{})}),Object(le.jsx)(ae.a,{color:"secondary",className:r.itemButton,onClick:v,children:Object(le.jsx)(qt.a,{})})]})]})})},Jt=function(e){var t=e.card,n=Be();return Object(le.jsxs)(a.Fragment,{children:[Object(le.jsx)("h3",{className:n.header,children:"Checklist"}),Object(le.jsx)(xt.a,{component:"fieldset",children:Object(le.jsx)(Rt.a,{children:t.checklist.map((function(e){return Object(le.jsx)(Ht,{item:e,card:t},e._id)}))})}),Object(le.jsx)(Pt,{cardId:t._id})]})},Gt=function(e){var t=e.cardId,n=e.open,r=e.setOpen,c=e.card,s=e.list,i=Be(),o=Object(a.useState)(c.title),d=Object(O.a)(o,2),b=d[0],p=d[1],f=Object(a.useState)(c.description),h=Object(O.a)(f,2),x=h[0],m=h[1],v=Object(u.c)();Object(a.useEffect)((function(){p(c.title),m(c.description)}),[c]);var y=function(){var e=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),v(ke(t,{title:b,description:x}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(Ce(t,!0)),r(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(le.jsx)(Le.a,{open:n,onClose:function(){return r(!1)},children:Object(le.jsxs)("div",{className:"".concat(i.paper," ").concat(i.cardModal),children:[Object(le.jsxs)("form",{onSubmit:function(e){return y(e)},children:[Object(le.jsxs)("div",{className:i.modalTop,children:[Object(le.jsx)(re.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,multiline:!0,label:"Card title",value:b,onChange:function(e){return p(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&y(e)},className:i.cardTitle}),Object(le.jsx)(ae.a,{onClick:function(){return r(!1)},children:Object(le.jsx)(Me.a,{})})]}),Object(le.jsx)(re.a,{variant:"outlined",margin:"normal",fullWidth:!0,multiline:!0,label:"Card description",value:x,onChange:function(e){return m(e.target.value)}}),Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",disabled:b===c.title&&(x===c.description||""===x&&!c.description),className:i.button,children:"Save All Changes"})]}),Object(le.jsxs)("div",{className:i.modalSection,children:[Object(le.jsx)(Wt,{card:c}),Object(le.jsxs)("div",{children:[Object(le.jsx)("h3",{className:i.labelTitle,children:"Label"}),Object(le.jsx)(At.a,{className:i.colorPicker,onChange:function(){var e=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v(ke(t,{label:n.hex})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(le.jsx)(ae.a,{className:i.noLabel,variant:"outlined",onClick:Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v(ke(t,{label:"none"})));case 1:case"end":return e.stop()}}),e)}))),children:"No Label"})]})]}),Object(le.jsx)(Jt,{card:c}),Object(le.jsxs)("div",{className:i.modalSection,children:[Object(le.jsx)(Dt,{cardId:t,setOpen:r,thisList:s}),Object(le.jsxs)("div",{className:i.modalBottomRight,children:[Object(le.jsx)(ae.a,{variant:"contained",className:i.archiveButton,onClick:g,children:"Archive Card"}),Object(le.jsx)(Lt,{cardId:t,setOpen:r,list:s})]})]})]})})},Vt=function(e){var t=e.cardId,n=e.list,r=e.index,c=Object(a.useState)(!1),s=Object(O.a)(c,2),i=s[0],o=s[1],d=Object(a.useState)(!1),b=Object(O.a)(d,2),f=b[0],h=b[1],x=Object(a.useState)(!1),m=Object(O.a)(x,2),v=m[0],y=m[1],g=Object(a.useState)(""),k=Object(O.a)(g,2),w=k[0],C=k[1],S=Object(a.useState)(0),N=Object(O.a)(S,2),I=N[0],T=N[1],_=Object(a.useState)(0),A=Object(O.a)(_,2),D=A[0],L=A[1],R=Object(a.useRef)(null),B=Object(u.d)((function(e){return e.board.board.cardObjects.find((function(e){return e._id===t}))})),W=Object(u.c)();Object(a.useEffect)((function(){var e;W((e=t,function(){var t=Object(j.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.a.get("/api/cards/".concat(e));case 3:a=t.sent,n({type:M,payload:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:E,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()))}),[t,W]),Object(a.useEffect)((function(){B&&(C(B.title),B.checklist&&L(B.checklist.reduce((function(e,t){return e+(t.complete?1:0)}),0)))}),[B]),Object(a.useEffect)((function(){R&&R.current&&T(R.current.clientHeight)}),[n,B,R]);var P=function(){var e=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),W(ke(t,{title:w})),o(!1),y(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return!B||B&&B.archived?"":Object(le.jsxs)(a.Fragment,{children:[Object(le.jsx)(Gt,{cardId:t,open:f,setOpen:h,card:B,list:n}),i?Object(le.jsxs)("form",{className:"create-card-form",onSubmit:function(e){return P(e)},children:[Object(le.jsx)(rt.a,{children:Object(le.jsx)(ct.a,{className:"card-edit-content",children:Object(le.jsx)(re.a,{margin:"normal",fullWidth:!0,multiline:!0,required:!0,label:"Edit this card's title",autoFocus:!0,value:w,onChange:function(e){return C(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&P(e)}})})}),Object(le.jsxs)("div",{className:"card-actions",children:[Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",children:"Save"}),Object(le.jsx)(ae.a,{onClick:function(){o(!1),y(!1),C(B.title)},children:Object(le.jsx)(Me.a,{})})]})]}):Object(le.jsx)(He.b,{draggableId:t,index:r,children:function(e){return Object(le.jsxs)(rt.a,Object(p.a)(Object(p.a)(Object(p.a)({className:"card ".concat(v&&!i?"mouse-over":""),onMouseOver:function(){return y(!0)},onMouseLeave:function(){return y(!1)},ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[v&&!i&&Object(le.jsx)(ae.a,{style:{position:"absolute",bottom:I-40,left:"180px",zIndex:1},onClick:function(){return o(!0)},children:Object(le.jsx)(Ct.a,{fontSize:"small"})}),Object(le.jsxs)(ct.a,{onClick:function(){h(!0),y(!1)},ref:R,children:[B.label&&"none"!==B.label&&Object(le.jsx)("div",{className:"card-label",style:{backgroundColor:B.label}}),Object(le.jsx)("p",{children:B.title}),Object(le.jsxs)("div",{className:"card-bottom",children:[Object(le.jsxs)("div",{className:"card-bottom-left",children:[B.description&&Object(le.jsx)(Nt.a,{className:"description-indicator",fontSize:"small"}),B.checklist&&B.checklist.length>0&&Object(le.jsxs)("div",{className:"checklist-indicator ".concat(D===B.checklist.length?"completed-checklist-indicator":""),children:[Object(le.jsx)(Tt.a,{fontSize:"small",className:"checklist-indicator-icon"}),D,"/",B.checklist.length]})]}),Object(le.jsx)("div",{className:"card-member-avatars",children:B.members.map((function(e){return Object(le.jsx)(Et.a,{title:e.name,children:Object(le.jsx)(_t.a,{className:"avatar",children:kt(e.name)})},e.user)}))})]})]})]}))}})]})},Kt=function(e){var t=e.listId,n=e.setAdding,r=Object(a.useState)(""),c=Object(O.a)(r,2),s=c[0],i=c[1],o=Object(u.c)(),d=Object(a.useRef)(null);Object(a.useEffect)((function(){d&&d.current&&d.current.scrollIntoView()}),[s]);var b=function(){var e=Object(j.a)(l.a.mark((function e(n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),o(ge({title:s,listId:t})),i("");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(le.jsxs)("form",{ref:d,className:"create-card-form",onSubmit:function(e){return b(e)},children:[Object(le.jsx)(rt.a,{children:Object(le.jsx)(ct.a,{className:"card-edit-content",children:Object(le.jsx)(re.a,{margin:"normal",fullWidth:!0,multiline:!0,required:!0,label:"Enter a title for this card",autoFocus:!0,value:s,onChange:function(e){return i(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&b(e)}})})}),Object(le.jsxs)("div",{className:"card-actions",children:[Object(le.jsx)(ae.a,{type:"submit",variant:"contained",color:"primary",children:"Add Card"}),Object(le.jsx)(ae.a,{onClick:function(){n(!1),i("")},children:Object(le.jsx)(Me.a,{})})]})]})},Ut=function(e){var t=e.listId,n=e.index,r=Object(a.useState)(!1),c=Object(O.a)(r,2),s=c[0],i=c[1],o=Object(u.d)((function(e){return e.board.board.listObjects.find((function(e){return e._id===t}))})),d=Object(u.c)();Object(a.useEffect)((function(){var e;d((e=t,function(){var t=Object(j.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.a.get("/api/lists/".concat(e));case 3:a=t.sent,n({type:A,payload:a.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:E,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()))}),[d,t]);var b=Object(a.useRef)(null);return Object(a.useEffect)((function(){s&&b.current.scrollIntoView()}),[s]),!o||o&&o.archived?"":Object(le.jsx)(He.b,{draggableId:t,index:n,children:function(e){return Object(le.jsxs)("div",Object(p.a)(Object(p.a)(Object(p.a)({className:"list-wrapper"},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,children:[Object(le.jsxs)("div",{className:"list-top",children:[Object(le.jsx)(ut,{list:o}),Object(le.jsx)(gt,{listId:t})]}),Object(le.jsx)(He.c,{droppableId:t,type:"card",children:function(e){return Object(le.jsxs)("div",Object(p.a)(Object(p.a)({className:"list ".concat(s?"adding-card":"not-adding-card")},e.droppableProps),{},{ref:e.innerRef,children:[Object(le.jsx)("div",{className:"cards",children:o.cards.map((function(e,t){return Object(le.jsx)(Vt,{cardId:e,list:o,index:t},e)}))}),e.placeholder,s&&Object(le.jsx)("div",{ref:b,children:Object(le.jsx)(Kt,{listId:t,setAdding:i})})]}))}}),!s&&Object(le.jsx)("div",{className:"create-card-button",children:Object(le.jsx)(ae.a,{variant:"contained",onClick:function(){return i(!0)},children:"+ Add a card"})})]}))}})},zt=function(){var e=Object(a.useState)(!1),t=Object(O.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(O.a)(c,2),i=s[0],o=s[1],d=Object(u.c)(),b=Object(a.useRef)(null);Object(a.useEffect)((function(){b&&b.current&&b.current.scrollIntoView()}),[i]);var p=function(){var e=Object(j.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),d(me({title:i})),o("");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n?Object(le.jsx)("div",{ref:b,className:"create-list-form",children:Object(le.jsxs)("form",{onSubmit:function(e){return p(e)},children:[Object(le.jsx)(re.a,{variant:"outlined",fullWidth:!0,margin:"normal",required:!0,placeholder:"list title",autoFocus:!0,value:i,onChange:function(e){return o(e.target.value)}}),Object(le.jsxs)("div",{children:[Object(le.jsx)(ae.a,{type:"submit",variant:"varient",color:"primary",children:"Add List"}),Object(le.jsx)(ae.a,{onClick:function(){r(!1),o("")},children:Object(le.jsx)(Me.a,{})})]})]})}):Object(le.jsx)("div",{className:"create-list-button",children:Object(le.jsx)(ae.a,{variant:"varient",onClick:function(){return r(!0)},children:"Add new List"})})},Yt=function(e){var t=e.match,n=Object(u.d)((function(e){return e.board.board})),r=Object(u.d)((function(e){return e.auth.isAuthenticated})),c=Object(u.c)();if(Object(a.useEffect)((function(){var e;c((e=t.params.id,function(){var t=Object(j.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Z.a.get("/api/boards/".concat(e));case 3:(a=t.sent)?Z.a.defaults.headers.common.boardId=e:delete Z.a.defaults.headers.common.boardId,n({type:I,payload:Object(p.a)(Object(p.a)({},a.data),{},{listObjects:[],cardObjects:[]})}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n({type:E,payload:{msg:t.t0.response.statusText,status:t.t0.response.status}});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))}),[c,t.params.id]),Object(a.useEffect)((function(){(null===n||void 0===n?void 0:n.title)&&(document.title=n.title+" | TODO")}),[null===n||void 0===n?void 0:n.title]),!r)return Object(le.jsx)(o.a,{to:"/"});return n?Object(le.jsxs)("div",{className:"board-and-navbar",children:[Object(le.jsx)(Pe,{}),Object(le.jsxs)("section",{className:"board",children:[Object(le.jsxs)("div",{className:"board-top",children:[Object(le.jsx)("div",{className:"board-top-left",children:Object(le.jsx)(Ge,{board:n})}),Object(le.jsx)(ot,{})]}),Object(le.jsx)(He.a,{onDragEnd:function(e){var t=e.source,n=e.destination,a=e.draggableId,r=e.type;n&&c("card"===r?we(a,{fromId:t.droppableId,toId:n.droppableId,toIndex:n.index}):Ie(a,{toIndex:n.index}))},children:Object(le.jsx)(He.c,{droppableId:"all-lists",direction:"horizontal",type:"list",children:function(e){return Object(le.jsxs)("div",Object(p.a)(Object(p.a)({className:"lists",ref:e.innerRef},e.droppableProps),{},{children:[n.lists.map((function(e,t){return Object(le.jsx)(Ut,{listId:e,index:t},e)})),e.placeholder,Object(le.jsx)(zt,{})]}))}})})]})]}):Object(le.jsxs)(a.Fragment,{children:[Object(le.jsx)(Pe,{}),Object(le.jsx)(Je.a,{className:"board-loading",children:Object(le.jsx)(Fe.a,{})})]})},Xt=n(413),Qt=function(){var e=Object(u.d)((function(e){return e.alert}));return null!==e&&e.length>0&&e.map((function(e){return Object(le.jsx)(Xt.a,{severity:e.alertType,children:e.msg},e.id)}))},Zt=n(31),$t=n(186),en=n(187),tn=n(60),nn=[],an={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},rn={boards:[],board:null,dashboardLoading:!0,error:{}},cn=Object(Zt.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case h:return[].concat(Object(tn.a)(e),[a]);case x:return e.filter((function(e){return e.id!==a}));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:an,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case y:return Object(p.a)(Object(p.a)({},e),{},{isAuthenticated:!0,loading:!1,user:a});case m:case k:return localStorage.setItem("token",a.token),Object(p.a)(Object(p.a)(Object(p.a)({},e),a),{},{isAuthenticated:!0,loading:!1});case v:case g:case w:case C:return localStorage.removeItem("token"),Object(p.a)(Object(p.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1});default:return e}},board:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rn,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case S:return Object(p.a)(Object(p.a)({},e),{},{board:null});case N:return Object(p.a)(Object(p.a)({},e),{},{boards:a,dashboardLoading:!1});case _:case I:return Object(p.a)(Object(p.a)({},e),{},{board:Object(p.a)(Object(p.a)({},e.board),a)});case T:return Object(p.a)(Object(p.a)({},e),{},{boards:[a].concat(Object(tn.a)(e.boards))});case E:return Object(p.a)(Object(p.a)({},e),{},{error:a});case A:return Object(p.a)(Object(p.a)({},e),{},{board:Object(p.a)(Object(p.a)({},e.board),{},{listObjects:[].concat(Object(tn.a)(e.board.listObjects),[a])})});case D:return Object(p.a)(Object(p.a)({},e),{},{board:Object(p.a)(Object(p.a)({},e.board),{},{lists:[].concat(Object(tn.a)(e.board.lists),[a._id])})});case R:case L:return Object(p.a)(Object(p.a)({},e),{},{board:Object(p.a)(Object(p.a)({},e.board),{},{listObjects:e.board.listObjects.map((function(e){return e._id===a._id?a:e}))})});case M:return Object(p.a)(Object(p.a)({},e),{},{board:Object(p.a)(Object(p.a)({},e.board),{},{cardObjects:[].concat(Object(tn.a)(e.board.cardObjects),[a])})});case B:return Object(p.a)(Object(p.a)({},e),{},{board:Object(p.a)(Object(p.a)({},e.board),{},{listObjects:e.board.listObjects.map((function(e){return e._id===a.listId?Object(p.a)(Object(p.a)({},e),{},{cards:[].concat(Object(tn.a)(e.cards),[a.cardId])}):e}))})});case K:case U:case z:case Y:case F:case V:case W:return Object(p.a)(Object(p.a)({},e),{},{board:Object(p.a)(Object(p.a)({},e.board),{},{cardObjects:e.board.cardObjects.map((function(e){return e._id===a._id?a:e}))})});case P:return Object(p.a)(Object(p.a)({},e),{},{board:Object(p.a)(Object(p.a)({},e.board),{},{listObjects:e.board.listObjects.map((function(e){return e._id===a.from._id?a.from:e._id===a.to._id?a.to:e})),cardObjects:e.board.cardObjects.filter((function(e){return e._id!==a.cardId||a.to._id===a.from._id}))})});case q:return Object(p.a)(Object(p.a)({},e),{},{board:Object(p.a)(Object(p.a)({},e.board),{},{cardObjects:e.board.cardObjects.filter((function(e){return e._id!==a})),listObjects:e.board.listObjects.map((function(e){return e.cards.includes(a)?Object(p.a)(Object(p.a)({},e),{},{cards:e.cards.filter((function(e){return e!==a}))}):e}))})});case H:return Object(p.a)(Object(p.a)({},e),{},{board:Object(p.a)(Object(p.a)({},e.board),{},{activity:a})});case J:return Object(p.a)(Object(p.a)({},e),{},{board:Object(p.a)(Object(p.a)({},e.board),{},{members:a})});case G:return Object(p.a)(Object(p.a)({},e),{},{board:Object(p.a)(Object(p.a)({},e.board),{},{lists:a})});default:return e}}}),sn=[en.a],on=Object(Zt.createStore)(cn,{},Object($t.composeWithDevTools)(Zt.applyMiddleware.apply(void 0,sn)));n(351);localStorage.token&&$(localStorage.token);var un=function(){return Object(a.useEffect)((function(){on.dispatch(ee())}),[]),Object(le.jsx)(u.a,{store:on,children:Object(le.jsx)(i.a,{children:Object(le.jsxs)(a.Fragment,{children:[Object(le.jsx)(Qt,{}),Object(le.jsxs)(o.d,{children:[Object(le.jsx)(o.b,{exact:!0,path:"/",component:be}),Object(le.jsx)(o.b,{exact:!0,path:"/register",component:je}),Object(le.jsx)(o.b,{exact:!0,path:"/login",component:Oe}),Object(le.jsx)(o.b,{exact:!0,path:"/dashboard",component:qe}),Object(le.jsx)(o.b,{exact:!0,path:"/board/:id",component:Yt})]})]})})})};s.a.render(Object(le.jsx)(r.a.StrictMode,{children:Object(le.jsx)(un,{})}),document.getElementById("root"))}},[[352,1,2]]]);
//# sourceMappingURL=main.9d7d3af7.chunk.js.map